---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
import { getCollection } from 'astro:content';

const services = await getCollection('services');
const featuredServices = services.filter(s => s.data.featured).slice(0, 3);

const projects = await getCollection('projects');
const featuredProjects = projects.filter(p => p.data.featured).slice(0, 3);

const posts = await getCollection('blog');
const recentPosts = posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()).slice(0, 3);
---

<!doctype html>
<html lang="ar" dir="rtl">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			/* Hero Section */
			.hero {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				padding: 6rem 2rem;
				text-align: center;
				margin: -3em -1em 0;
				position: relative;
				overflow: hidden;
			}
			.hero::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
			}
			.hero-content {
				position: relative;
				z-index: 1;
				max-width: 800px;
				margin: 0 auto;
			}
			.hero h1 {
				font-size: 3rem;
				margin-bottom: 1rem;
				color: white;
			}
			.hero p {
				font-size: 1.25rem;
				opacity: 0.95;
				margin-bottom: 2rem;
			}
			.hero-buttons {
				display: flex;
				gap: 1rem;
				justify-content: center;
				flex-wrap: wrap;
			}
			.btn {
				padding: 1rem 2rem;
				border-radius: 50px;
				font-weight: bold;
				text-decoration: none;
				transition: all 0.3s ease;
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
			}
			.btn-primary {
				background: white;
				color: #667eea;
			}
			.btn-primary:hover {
				transform: translateY(-3px);
				box-shadow: 0 10px 30px rgba(0,0,0,0.2);
			}
			.btn-secondary {
				background: transparent;
				color: white;
				border: 2px solid white;
			}
			.btn-secondary:hover {
				background: white;
				color: #667eea;
			}

			/* Sections */
			.section {
				padding: 4rem 0;
			}
			.section-title {
				text-align: center;
				margin-bottom: 3rem;
			}
			.section-title h2 {
				font-size: 2.5rem;
				margin-bottom: 0.5rem;
			}
			.section-title p {
				color: #666;
				font-size: 1.1rem;
			}

			/* Services Grid */
			.services-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
				gap: 2rem;
			}
			.service-card {
				background: white;
				padding: 2rem;
				border-radius: 16px;
				box-shadow: 0 4px 20px rgba(0,0,0,0.08);
				transition: all 0.3s ease;
				border: 1px solid #eee;
			}
			.service-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 10px 40px rgba(0,0,0,0.12);
			}
			.service-icon {
				font-size: 3rem;
				margin-bottom: 1rem;
			}
			.service-card h3 {
				margin-bottom: 0.5rem;
				color: #333;
			}
			.service-card p {
				color: #666;
				margin-bottom: 1rem;
			}
			.service-price {
				color: #667eea;
				font-weight: bold;
				font-size: 1.2rem;
			}

			/* Projects Grid */
			.projects-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
				gap: 2rem;
			}
			.project-card {
				background: white;
				border-radius: 16px;
				overflow: hidden;
				box-shadow: 0 4px 20px rgba(0,0,0,0.08);
				transition: all 0.3s ease;
			}
			.project-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 10px 40px rgba(0,0,0,0.12);
			}
			.project-image {
				width: 100%;
				height: 200px;
				object-fit: cover;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			}
			.project-content {
				padding: 1.5rem;
			}
			.project-category {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				padding: 0.25rem 0.75rem;
				border-radius: 20px;
				font-size: 0.8rem;
				display: inline-block;
				margin-bottom: 0.5rem;
			}

			/* Blog Grid */
			.blog-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 2rem;
			}
			.blog-card {
				background: white;
				padding: 1.5rem;
				border-radius: 16px;
				box-shadow: 0 4px 20px rgba(0,0,0,0.08);
				transition: all 0.3s ease;
				border-right: 4px solid #667eea;
			}
			.blog-card:hover {
				transform: translateX(-5px);
			}
			.blog-date {
				color: #999;
				font-size: 0.85rem;
			}

			/* CTA Section */
			.cta-section {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				padding: 4rem 2rem;
				text-align: center;
				border-radius: 24px;
				margin: 2rem 0;
			}
			.cta-section h2 {
				color: white;
				margin-bottom: 1rem;
			}
			.cta-section p {
				opacity: 0.95;
				margin-bottom: 2rem;
			}

			/* Stats */
			.stats {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
				gap: 2rem;
				padding: 3rem 0;
				text-align: center;
			}
			.stat-item h3 {
				font-size: 3rem;
				color: #667eea;
				margin-bottom: 0.25rem;
			}
			.stat-item p {
				color: #666;
				margin: 0;
			}

			/* View All Link */
			.view-all {
				text-align: center;
				margin-top: 2rem;
			}
			.view-all a {
				color: #667eea;
				font-weight: bold;
				text-decoration: none;
			}
			.view-all a:hover {
				text-decoration: underline;
			}

			main {
				max-width: 1200px;
				width: 100%;
			}

			@media (max-width: 768px) {
				.hero h1 {
					font-size: 2rem;
				}
				.hero {
					padding: 4rem 1rem;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<!-- Hero Section -->
			<section class="hero">
				<div class="hero-content">
					<h1>ğŸš€ Ù†Ø­ÙˆÙ‘Ù„ Ø£ÙÙƒØ§Ø±Ùƒ Ø¥Ù„Ù‰ ÙˆØ§Ù‚Ø¹ Ø±Ù‚Ù…ÙŠ</h1>
					<p>Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ù…ÙˆØ§Ù‚Ø¹ ÙˆØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø© ÙˆØ£ÙØ¶Ù„ Ø³Ø¹Ø±</p>
					<div class="hero-buttons">
						<a href="/services" class="btn btn-primary">ğŸ’¼ Ø§Ø³ØªØ¹Ø±Ø¶ Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a>
						<a href="/contact" class="btn btn-secondary">ğŸ“¬ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
					</div>
				</div>
			</section>

			<!-- Stats -->
			<div class="stats">
				<div class="stat-item">
					<h3>50+</h3>
					<p>Ù…Ø´Ø±ÙˆØ¹ Ù…ÙƒØªÙ…Ù„</p>
				</div>
				<div class="stat-item">
					<h3>30+</h3>
					<p>Ø¹Ù…ÙŠÙ„ Ø³Ø¹ÙŠØ¯</p>
				</div>
				<div class="stat-item">
					<h3>5+</h3>
					<p>Ø³Ù†ÙˆØ§Øª Ø®Ø¨Ø±Ø©</p>
				</div>
				<div class="stat-item">
					<h3>24/7</h3>
					<p>Ø¯Ø¹Ù… ÙÙ†ÙŠ</p>
				</div>
			</div>

			<!-- Services Section -->
			<section class="section">
				<div class="section-title">
					<h2>ğŸ’¼ Ø®Ø¯Ù…Ø§ØªÙ†Ø§</h2>
					<p>Ù†Ù‚Ø¯Ù… Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</p>
				</div>
				{featuredServices.length > 0 ? (
					<div class="services-grid">
						{featuredServices.map((service) => (
							<div class="service-card">
								<div class="service-icon">{service.data.icon || 'â­'}</div>
								<h3>{service.data.title}</h3>
								<p>{service.data.description}</p>
								{service.data.price && <div class="service-price">{service.data.price}</div>}
							</div>
						))}
					</div>
				) : (
					<div class="services-grid">
						<div class="service-card">
							<div class="service-icon">ğŸŒ</div>
							<h3>ØªØµÙ…ÙŠÙ… Ù…ÙˆØ§Ù‚Ø¹</h3>
							<p>Ù…ÙˆØ§Ù‚Ø¹ Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ³Ø±ÙŠØ¹Ø© ÙˆÙ…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>
							<div class="service-price">Ù…Ù† 500$</div>
						</div>
						<div class="service-card">
							<div class="service-icon">ğŸ“±</div>
							<h3>ØªØ·ÙˆÙŠØ± ØªØ·Ø¨ÙŠÙ‚Ø§Øª</h3>
							<p>ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…ÙˆØ¨Ø§ÙŠÙ„ iOS Ùˆ Android Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª</p>
							<div class="service-price">Ù…Ù† 1000$</div>
						</div>
						<div class="service-card">
							<div class="service-icon">ğŸ¨</div>
							<h3>ØªØµÙ…ÙŠÙ… Ø¬Ø±Ø§ÙÙŠÙƒ</h3>
							<p>Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ© ÙƒØ§Ù…Ù„Ø© ÙˆØªØµØ§Ù…ÙŠÙ… Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§</p>
							<div class="service-price">Ù…Ù† 200$</div>
						</div>
					</div>
				)}
				<div class="view-all">
					<a href="/services">Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª â†</a>
				</div>
			</section>

			<!-- Projects Section -->
			<section class="section">
				<div class="section-title">
					<h2>ğŸ¨ Ø£Ø­Ø¯Ø« Ø£Ø¹Ù…Ø§Ù„Ù†Ø§</h2>
					<p>Ù†Ù…Ø§Ø°Ø¬ Ù…Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ØªÙŠ Ø£Ù†Ø¬Ø²Ù†Ø§Ù‡Ø§</p>
				</div>
				{featuredProjects.length > 0 ? (
					<div class="projects-grid">
						{featuredProjects.map((project) => (
							<div class="project-card">
								<div class="project-image"></div>
								<div class="project-content">
									<span class="project-category">{project.data.category}</span>
									<h3>{project.data.title}</h3>
									<p>{project.data.description}</p>
								</div>
							</div>
						))}
					</div>
				) : (
					<div class="projects-grid">
						<div class="project-card">
							<div class="project-image"></div>
							<div class="project-content">
								<span class="project-category">ØªØµÙ…ÙŠÙ… Ù…ÙˆØ§Ù‚Ø¹</span>
								<h3>Ù…ÙˆÙ‚Ø¹ Ø´Ø±ÙƒØ© ØªÙ‚Ù†ÙŠØ©</h3>
								<p>ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ù…ÙˆÙ‚Ø¹ Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø´Ø±ÙƒØ© ØªÙ‚Ù†ÙŠØ© Ù†Ø§Ø´Ø¦Ø©</p>
							</div>
						</div>
						<div class="project-card">
							<div class="project-image"></div>
							<div class="project-content">
								<span class="project-category">ØªØ·Ø¨ÙŠÙ‚Ø§Øª</span>
								<h3>ØªØ·Ø¨ÙŠÙ‚ Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h3>
								<p>ØªØ·Ø¨ÙŠÙ‚ Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø¯ÙØ¹</p>
							</div>
						</div>
						<div class="project-card">
							<div class="project-image"></div>
							<div class="project-content">
								<span class="project-category">Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ©</span>
								<h3>Ø¨Ø±Ø§Ù†Ø¯ Ù…Ø·Ø¹Ù…</h3>
								<p>ØªØµÙ…ÙŠÙ… Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ© ÙƒØ§Ù…Ù„Ø© Ù„Ù…Ø·Ø¹Ù… Ø¬Ø¯ÙŠØ¯</p>
							</div>
						</div>
					</div>
				)}
				<div class="view-all">
					<a href="/projects">Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ â†</a>
				</div>
			</section>

			<!-- Blog Section -->
			{recentPosts.length > 0 && (
				<section class="section">
					<div class="section-title">
						<h2>ğŸ“ Ù…Ù† Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</h2>
						<p>Ø¢Ø®Ø± Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙˆØ§Ù„Ù†ØµØ§Ø¦Ø­</p>
					</div>
					<div class="blog-grid">
						{recentPosts.map((post) => (
							<a href={`/blog/${post.id}`} class="blog-card">
								<span class="blog-date">{post.data.pubDate.toLocaleDateString('ar-EG')}</span>
								<h3>{post.data.title}</h3>
								<p>{post.data.description}</p>
							</a>
						))}
					</div>
					<div class="view-all">
						<a href="/blog">Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª â†</a>
					</div>
				</section>
			)}

			<!-- CTA Section -->
			<section class="cta-section">
				<h2>ğŸ¤ Ø¬Ø§Ù‡Ø² ØªØ¨Ø¯Ø£ Ù…Ø´Ø±ÙˆØ¹ÙƒØŸ</h2>
				<p>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø§Ù„Ø¢Ù† ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ø³ØªØ´Ø§Ø±Ø© Ù…Ø¬Ø§Ù†ÙŠØ©</p>
				<div class="hero-buttons">
					<a href="https://wa.me/201234567890" class="btn btn-primary" target="_blank">
						ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨
					</a>
					<a href="/contact" class="btn btn-secondary">
						ğŸ“§ Ø£Ø±Ø³Ù„ Ø±Ø³Ø§Ù„Ø©
					</a>
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>
